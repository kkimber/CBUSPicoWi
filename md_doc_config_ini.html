<!-- HTML header for doxygen 1.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MERG CANPicoWi: Configuration INI</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="doxygen-awesome-fragment-copy-button.js"></script>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript" src="doxygen-awesome-cbus.js"></script>
<script type="text/javascript">
  DoxygenAwesomeDarkModeToggle.init()
  DoxygenAwesomeFragmentCopyButton.init()
</script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MERG CANPicoWi
   &#160;<span id="projectnumber">1.0a</span>
   </div>
   <div id="projectbrief">Module Documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('md_doc_config_ini.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Configuration INI </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>CANPicoWi requires a configuration file on an SD card, which is formatted as a FAT or FAT32 file system.</p>
<p>This configuration file, allows for configuration of your WiFi credentials, along with options as to if the Grid Connect server is able, and if so on which port, and the similar for the Engine Driver throttle service.</p>
<p>The file must be named 'config.ini' and needs to be loaded in the root directory of the SD card. Below is a template example for the config.ini contents. You need to change (at a minimum) the ssid and password values: </p><pre class="fragment">  ; MERG PicoWi configuration
  ; Example file:
  ; Modify and write to a FAT formatted SD Card

  [wifi]
  country = UK             ; Country code for WiFi
  ssid = XXXXXXXXX         ; WiFi router SSID
  password = XXXXXXXXXXXX  ; WiFi router password
  wpa_auth = false         ; Enable WiFi WPA authentication [WPA TPIP PSK]
  wpa2_auth = true         ; Enable WiFi WPA2 authentication [WP2 AES PSK]

  [gridconnect]
  enable = true            ; Enable CBUS Grid Connect server
  port = 5555              ; Port number for the Grid Connnect server

  [edthrottle]
  enable = true            ; Enable the Engine Driver Throttle server
  port = 4444              ; Port number for the ED Throttle server
</pre> <h1><a class="anchor" id="autotoc_md2"></a>
WiFi configuration</h1>
<p>CANPicoWi currently only supports WiFi in station / router mode, i.e. the CANPicoWi module connects to a WiFi router, as such the CANPicoWi needs knowledge of the credentials to connect to the router.</p>
<p>The default config.ini, as above, is setup to authenticate with the router using WPA2, however this can be changed.</p>
<h2><a class="anchor" id="autotoc_md3"></a>
Open mode</h2>
<p>To connect to a router in open mode, aka no authentication, then set both wpa_auth and wpa2_auth false, i.e.: </p><pre class="fragment">  [wifi]
  country = UK             ; Country code for WiFi
  ssid = XXXXXXXXX         ; WiFi router SSID
  password = XXXXXXXXXXXX  ; WiFi router password
  wpa_auth = false         ; Enable WiFi WPA authentication [WPA TPIP PSK]
  wpa2_auth = false        ; Enable WiFi WPA2 authentication [WP2 AES PSK]
</pre> <h2><a class="anchor" id="autotoc_md4"></a>
WPA mode</h2>
<p>To use the legacy WPA authentication method, set wpa_auth true and wpa2_auth false, i.e.: </p><pre class="fragment">  [wifi]
  country = UK             ; Country code for WiFi
  ssid = XXXXXXXXX         ; WiFi router SSID
  password = XXXXXXXXXXXX  ; WiFi router password
  wpa_auth = true          ; Enable WiFi WPA authentication [WPA TPIP PSK]
  wpa2_auth = false         ; Enable WiFi WPA2 authentication [WP2 AES PSK]
</pre> <h2><a class="anchor" id="autotoc_md5"></a>
WPA/WPA2 Mixed mode</h2>
<p>To use mixed WPA/WPA2 authentication, set both wpa_auth and wpa2_auth true, i.e.: </p><pre class="fragment">  [wifi]
  country = UK             ; Country code for WiFi
  ssid = XXXXXXXXX         ; WiFi router SSID
  password = XXXXXXXXXXXX  ; WiFi router password
  wpa_auth = true          ; Enable WiFi WPA authentication [WPA TPIP PSK]
  wpa2_auth = true         ; Enable WiFi WPA2 authentication [WP2 AES PSK]
</pre> <h1><a class="anchor" id="autotoc_md6"></a>
WiFi Country configuration</h1>
<p>The CANPicoWi WiFi configuration is currently hard coded to support UK WiFi frequencies. The country setting in the config.ini is currently not read and used in firmware.</p>
<dl class="section warning"><dt>Warning</dt><dd><b>DO NOT</b> under any circumstances run the default CANPicoWi outside of the UK without modifying the source code to change the country code. The country code can be set in <a class="el" href="CBUSWiFi_8cpp.html">CBUSWiFi.cpp</a>, around line 220. <pre class="fragment">  // Set the country code 
  /// @todo setup from INI
  if (cyw43_arch_init_with_country(CYW43_COUNTRY_UK))
  {
     return false;
  }
</pre></dd></dl>
<div class="section_buttons"></div><div class="section_buttons"><table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadLeft">Previous   </th><th class="markdownTableHeadRight">Next    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft"><a class="el" href="index.html#md_README">Introduction</a>   </td><td class="markdownTableBodyRight"><a class="el" href="md_doc_cbus.html">CBUS</a>   </td></tr>
</table>
</div><div class="section_buttons"></div> </div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
